{
    "metrics": {
        "metrics_collected": {
            "api": {
                "metrics_namespace": "GameDin",
                "response_times": true,
                "request_count": true,
                "error_count": true
            },
            "lambda": {
                "metrics_namespace": "GameDin/Lambda",
                "duration": true,
                "errors": true,
                "throttles": true,
                "concurrent_executions": true
            },
            "dynamodb": {
                "metrics_namespace": "GameDin/DynamoDB",
                "read_throttle_events": true,
                "write_throttle_events": true,
                "read_capacity_units": true,
                "write_capacity_units": true
            }
        },
        "append_dimensions": {
            "Environment": "Production",
            "Service": "GameDin"
        }
    },
    "logs": {
        "logs_collected": {
            "files": {
                "collect_list": [
                    {
                        "file_path": "/aws/lambda/GameDin-*",
                        "log_group_name": "/aws/lambda/GameDin",
                        "log_stream_name": "{instance_id}"
                    },
                    {
                        "file_path": "/aws/apigateway/GameDin-*",
                        "log_group_name": "/aws/apigateway/GameDin",
                        "log_stream_name": "{instance_id}"
                    }
                ]
            }
        }
    },
    "alarms": {
        "ApiErrorRate": {
            "alarm_description": "API Error Rate exceeds threshold",
            "comparison_operator": "GreaterThanThreshold",
            "evaluation_periods": 2,
            "metric_name": "4XXError",
            "namespace": "AWS/ApiGateway",
            "period": 300,
            "statistic": "Average",
            "threshold": 5,
            "alarm_actions": ["SNS_TOPIC_ARN"]
        },
        "LambdaErrors": {
            "alarm_description": "Lambda Error Rate exceeds threshold",
            "comparison_operator": "GreaterThanThreshold",
            "evaluation_periods": 2,
            "metric_name": "Errors",
            "namespace": "AWS/Lambda",
            "period": 300,
            "statistic": "Sum",
            "threshold": 3,
            "alarm_actions": ["SNS_TOPIC_ARN"]
        }
    }
} 